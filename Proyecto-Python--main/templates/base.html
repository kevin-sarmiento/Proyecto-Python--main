<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Glam Shoes- Moda y estilo{% endblock %}</title>
    <!-- Bootstrap 5 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Toastify JS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <!-- Nuestros estilos -->
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/dark-theme.css">
    {% block extra_css %}
<style>/* === CHATBOT WIDGET DORADO === */
.chatbot-widget {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
    font-family: 'Poppins', sans-serif;
}

/* Botón flotante */
.chatbot-toggle {
    background: linear-gradient(135deg, #c9a63a, #f0d77b);
    color: #000;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    transition: all 0.3s ease;
    border: 1px solid #f0d77b;
}

.chatbot-toggle:hover {
    transform: scale(1.1);
    box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
}

/* Contenedor del chatbot */
.chatbot-container {
    position: absolute;
    bottom: 75px;
    right: 0;
    width: 320px;
    background-color: #1a1a1a;
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.8);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    border: 1px solid #c9a63a;
    animation: fadeInUp 0.4s ease;
}

/* Animación de apertura */
@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Cabecera */
.chatbot-header {
    background: linear-gradient(135deg, #c9a63a, #f0d77b);
    color: #000;
    padding: 12px 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    letter-spacing: 0.5px;
}

.chatbot-close {
    cursor: pointer;
    font-size: 20px;
    transition: 0.3s;
}

.chatbot-close:hover {
    color: #fff;
}

/* Mensajes */
.chatbot-messages {
    background-color: #121212;
    padding: 15px;
    height: 260px;
    overflow-y: auto;
    font-size: 14px;
    scrollbar-width: thin;
    scrollbar-color: #c9a63a #1a1a1a;
}

.chatbot-messages::-webkit-scrollbar {
    width: 8px;
}

.chatbot-messages::-webkit-scrollbar-thumb {
    background: #c9a63a;
    border-radius: 10px;
}

/* Mensajes del bot y del usuario */
.chatbot-message {
    margin-bottom: 12px;
    padding: 10px 14px;
    border-radius: 12px;
    max-width: 85%;
    line-height: 1.4;
}

.chatbot-message.bot {
    background-color: #2b2b2b;
    color: #f5f5f5;
    border-left: 3px solid #c9a63a;
    box-shadow: 0 2px 5px rgba(201,166,58,0.2);
}

.chatbot-message.user {
    background: linear-gradient(135deg, #c9a63a, #f0d77b);
    color: #000;
    align-self: flex-end;
    border-right: 3px solid #c9a63a;
    font-weight: 500;
}

/* Input */
.chatbot-input {
    display: flex;
    align-items: center;
    border-top: 1px solid #333;
    background-color: #1a1a1a;
    padding: 10px;
}

.chatbot-input input {
    flex-grow: 1;
    background: transparent;
    border: none;
    color: #f5f5f5;
    padding: 8px;
    outline: none;
    font-size: 14px;
}

.chatbot-input button {
    background: linear-gradient(135deg, #c9a63a, #f0d77b);
    border: none;
    color: #000;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.chatbot-input button:hover {
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
    transform: translateY(-1px);
}

</style>
    {% endblock %}




</head>
<body class="dark-theme">

    {% include 'navbar.html' %}

    <!-- Contenedor de mensajes -->
<!-- Chatbot Widget -->
    <div class="chatbot-widget">
        <div class="chatbot-toggle">
            <i class="fas fa-robot"></i>
        </div>
        <div class="chatbot-container d-none">
            <div class="chatbot-header">
                <div class="chatbot-title">Asistente de Búsqueda</div>
                <div class="chatbot-close">×</div>
            </div>
            <div class="chatbot-messages">
                <div class="chatbot-message bot">
                    ¡Hola! Soy tu asistente de búsqueda Glam Shoes. ¿Qué producto estás buscando?
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" placeholder="Escribe tu búsqueda...">
                <button><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>



    <main class="container py-4">
        {% block content %}{% endblock %}
    </main>

    {% include 'footer.html' %}



    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Toastify JS -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <!-- Nuestros scripts -->
    <script src="/static/js/main.js"></script>
    <script src="/static/js/cart.js"></script>
    <script src="/static/js/chatbot.js"></script>

    <script>
        // Variable global para el token CSRF
        const csrfToken = "{{ csrf_token }}";
    </script>

    {% block extra_js %}{% endblock %}

</body>
</html>